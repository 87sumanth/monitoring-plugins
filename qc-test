#! /usr/bin/env python2
# -*- encoding: utf-8; py-indent-offset: 4 -*-
#
# Author:  Linuxfabrik GmbH, Zurich, Switzerland
# Contact: info (at) linuxfabrik (dot) ch
#          https://www.linuxfabrik.ch/
# License: The Unlicense, see LICENSE file.

# https://git.linuxfabrik.ch/linuxfabrik-icinga-plugins/checks-linux/-/blob/master/CONTRIBUTING.md

import os

SKIP_DIRS = [
        '0-default',
        'lib',
    ]

REQUIRED_FILES = [
        'LICENSE',
        'README.md',
        '{directory}',
        '{directory}.png',
    ]

missing_files = []
for directory in os.listdir('.'):
    if not os.path.isdir(directory) or directory in SKIP_DIRS or directory.startswith('.'):
        continue
    for req_file in REQUIRED_FILES:
        req_file = req_file.format(directory=directory)
        path = os.path.join(directory, req_file)
        if not os.path.isfile(path):
            missing_files.append(path)

print('Missing files:')
print('\n'.join(missing_files))
